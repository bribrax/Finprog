<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Financial Adventure</title>
  <style>
    /* RESET & BASE STYLES */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: Arial, sans-serif;
      background: #f0f4f8;
      color: #333;
      line-height: 1.6;
      margin: 0;
      padding: 0;
    }
    header, main, footer {
      max-width: 1200px;
      width: 90%;
      margin: auto;
      padding: 20px;
    }
    
    /* HEADER & NAVIGATION */
    .header-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #ddd;
      margin-bottom: 20px;
      padding-bottom: 10px;
    }
    .logo {
      display: flex;
      align-items: center;
    }
    .logo img {
      max-height: 80px;
      margin-right: 10px;
    }
    .logo span {
      font-size: 2rem;
      font-weight: bold;
      color: #8e44ad;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 15px;
    }
    nav a {
      text-decoration: none;
      padding: 8px 14px;
      border: 1px solid #8e44ad;
      border-radius: 4px;
      color: #8e44ad;
      transition: background 0.3s ease;
    }
    nav a:hover {
      background: #8e44ad;
      color: #fff;
    }
    
    /* HERO SECTION */
    .hero-section {
      position: relative;
      background: linear-gradient(to bottom right, rgba(39,174,96,0.8), rgba(142,68,173,0.8)), url('https://via.placeholder.com/1200x500?text=Financial+Adventure');
      background-size: cover;
      background-position: center;
      border-radius: 8px;
      color: #fff;
      padding: 80px 20px;
      text-align: center;
      margin-bottom: 30px;
    }
    .hero-section h1 {
      font-size: 3rem;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.4);
    }
    .hero-section p {
      font-size: 1.3rem;
      margin-bottom: 30px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
    }
    .hero-cta {
      background: #fff;
      color: #8e44ad;
      border: none;
      padding: 15px 30px;
      font-size: 1.1rem;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .hero-cta:hover {
      transform: scale(1.05);
    }
    
    /* STORY CONTAINER */
    #story-container {
      background: #fff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 12px rgba(0,0,0,0.15);
      margin-bottom: 30px;
    }
    #story-text {
      font-size: 1.3rem;
      margin-bottom: 30px;
      text-align: justify;
    }
    
    /* CHOICE BUTTONS */
    .choice-container {
      text-align: center;
      margin-bottom: 20px;
    }
    .choice-btn {
      background: #8e44ad;
      color: #fff;
      border: none;
      padding: 12px 24px;
      margin: 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1.1rem;
      transition: background 0.3s ease;
    }
    .choice-btn:hover { background: #6a1b9a; }
    
    /* FEEDBACK BOXES */
    .feedback-box {
      margin-top: 20px;
      padding: 12px;
      border-radius: 4px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      animation: fadeIn 0.8s ease;
      text-align: left;
    }
    .explanation-box {
      border-left: 4px solid #00acc1;
      background-color: #e0f7fa;
    }
    .explanation-box h4 { color: #00acc1; margin-bottom: 6px; }
    .memory-tip-box {
      border-left: 4px solid #f9a825;
      background-color: #fff9c4;
    }
    .memory-tip-box h4 { color: #f9a825; margin-bottom: 6px; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* FOOTER */
    footer { text-align: center; font-size: 0.85rem; color: #777; border-top: 1px solid #ddd; padding-top: 10px; }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="header-container">
      <div class="logo">
        <!-- Replace 'logo.png' with your actual logo path -->
        <img src="logo.png" alt="Fin Play Logo">
        <span>Fin Play</span>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="quiz.html">Quiz</a></li>
          <li><a href="flashcards.html">Flashcards</a></li>
          <li><a href="adventure.html">Adventure</a></li>
          <li><a href="leaderboard.html">Leaderboard</a></li>
          <li><a href="achievements.html">Achievements</a></li>
        </ul>
      </nav>
    </div>
    <h1>Your Financial Adventure</h1>
    <p id="greeting" style="text-align: center; font-size: 1.2rem;"></p>
  </header>
  
  <!-- HERO SECTION -->
  <section class="hero-section" id="hero">
    <h1>Embark on Your Money Quest!</h1>
    <p>Join Jamie (or become yourself!) as you navigate the wild world of personal finance with humor and wit. Your choices shape your destiny—and your wallet!</p>
    <button class="hero-cta" onclick="startAdventure()">Begin Adventure</button>
  </section>
  
  <!-- STORY CONTAINER -->
  <main>
    <div id="story-container" style="display:none;">
      <div id="story-text"></div>
      <div class="choice-container" id="choice-container"></div>
      <div id="feedback-container"></div>
    </div>
  </main>
  
  <footer>
    &copy; 2025 Fin Play | Made by IE students | All rights reserved.
  </footer>
  
  <script>
    // Ensure user is logged in
    const user = localStorage.getItem('loggedInUser');
    if (!user) {
      window.location.href = "login.html";
    }
    document.getElementById('greeting').textContent = `Hello, ${user}! Prepare for a wild money adventure.`;
    
    /* STORY NODES:
       Each node has:
         - id: unique identifier.
         - text: the narrative.
         - choices: array of objects with { text, next }.
    */
    const storyNodes = {
      start: {
        text: "You are Jamie, a bright and quirky newcomer to the realm of personal finance. You wake up to find your bank account as empty as a politician’s promises. But fear not—the world is full of opportunities (and quirky pitfalls)! What will you do on this eventful morning?",
        choices: [
          { text: "Check your finances", next: "checkFinances" },
          { text: "Grab a coffee and head to work", next: "workStart" },
          { text: "Splurge on a fancy breakfast", next: "breakfastFail" }
        ]
      },
      checkFinances: {
        text: "You pull out your phone and, to your dismay, see that your balance is nearly zero. A spark of realization: without a plan, even the best intentions can lead to financial disaster.",
        choices: [
          { text: "Draft a budget", next: "budgetPlan" },
          { text: "Search for a side hustle", next: "sideHustle" }
        ]
      },
      workStart: {
        text: "Fueled by caffeine and ambition, you arrive at work. Your boss assigns you a challenging project that might just earn you a bonus. Opportunity knocks—but will you open the door?",
        choices: [
          { text: "Invest your potential bonus", next: "investStocks" },
          { text: "Save your bonus for a rainy day", next: "saveBonus" }
        ]
      },
      breakfastFail: {
        text: "You decide to splurge on an extravagant breakfast. It’s delicious, but your wallet feels the burn immediately. Now you’re left with little to cover even a modest expense later.",
        choices: [
          { text: "Learn from this overspend", next: "breakfastLesson" }
        ]
      },
      budgetPlan: {
        text: "You carefully draft a budget. It might not sound glamorous, but it’s your roadmap to financial stability. Soon, you notice how much unnecessary spending you had been doing.",
        choices: [
          { text: "Stick to the budget", next: "budgetSuccess" },
          { text: "Throw the budget away and splurge", next: "budgetFail" }
        ]
      },
      sideHustle: {
        text: "Inspired by necessity, you start a quirky side hustle—selling funny finance memes online! Surprisingly, people pay for your humor, and your income begins to grow.",
        choices: [
          { text: "Invest your earnings", next: "investEarnings" },
          { text: "Spend on the latest gadgets", next: "gadgetSplurge" }
        ]
      },
      investStocks: {
        text: "You decide to invest your bonus in stocks. At first, your portfolio soars like a rocket. But then—bam!—a market crash reminds you that high risk can mean high pain.",
        choices: [
          { text: "Learn to diversify", next: "diversifyLesson" },
          { text: "Double down on stocks", next: "stockCrash" }
        ]
      },
      saveBonus: {
        text: "You tuck your bonus safely into a high-yield savings account. It may not be as thrilling as wild investments, but slow and steady wins the race.",
        choices: [
          { text: "Celebrate your smart saving", next: "celebrateSaving" }
        ]
      },
      breakfastLesson: {
        text: "The expensive breakfast taught you a valuable lesson: indulgence without planning leaves you with regret (and an empty wallet).",
        choices: [
          { text: "Reboot your adventure", next: "start" }
        ]
      },
      budgetSuccess: {
        text: "By sticking to your budget, you watch your savings grow steadily. Discipline and planning are your secret weapons!",
        choices: [
          { text: "Restart your adventure", next: "start" }
        ]
      },
      budgetFail: {
        text: "Abandoning your budget leads to chaos—and a painful lesson in overspending. Your financial future now looks uncertain.",
        choices: [
          { text: "Restart your adventure", next: "start" }
        ]
      },
      investEarnings: {
        text: "Wise investments multiply your side hustle earnings! You’re well on your way to becoming a financial rockstar.",
        choices: [
          { text: "Restart your adventure", next: "start" }
        ]
      },
      gadgetSplurge: {
        text: "You splurge your earnings on flashy gadgets. While your tech collection is impressive, your bank account quickly empties out—ouch!",
        choices: [
          { text: "Restart your adventure", next: "start" }
        ]
      },
      diversifyLesson: {
        text: "Diversification saves the day! By spreading your investments, you cushion yourself against market volatility.",
        choices: [
          { text: "Restart your adventure", next: "start" }
        ]
      },
      stockCrash: {
        text: "Doubling down on stocks backfires, leaving you with a harsh lesson in risk management. Ouch!",
        choices: [
          { text: "Restart your adventure", next: "start" }
        ]
      },
      celebrateSaving: {
        text: "Your careful saving pays off, and you treat yourself modestly—celebrating your foresight with a small, satisfying reward.",
        choices: [
          { text: "Restart your adventure", next: "start" }
        ]
      }
    };

    // Display a story node
    function displayNode(nodeId) {
      const node = storyNodes[nodeId];
      const storyText = document.getElementById('story-text');
      const choiceContainer = document.getElementById('choice-container');
      const feedbackContainer = document.getElementById('feedback-container');
      
      storyText.textContent = node.text;
      choiceContainer.innerHTML = "";
      feedbackContainer.innerHTML = "";
      
      node.choices.forEach(choice => {
        const btn = document.createElement('button');
        btn.className = "choice-btn";
        btn.textContent = choice.text;
        btn.addEventListener('click', () => {
          // Optional: if you want to add extra humorous or educational feedback here,
          // you could call displayFeedback() with additional info.
          setTimeout(() => {
            displayNode(choice.next);
          }, 800);
        });
        choiceContainer.appendChild(btn);
      });
    }
    
    // Start the adventure when user clicks Begin Adventure
    function startAdventure() {
      document.getElementById('story-container').style.display = "block";
      displayNode("start");
    }
  </script>
</body>
</html>